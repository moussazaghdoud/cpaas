{
  "url": "https://developers.openrainbow.com/doc/sdk/csharp/core/lts/guides/070_managing_presence",
  "path": "/doc/sdk/csharp/core/lts/guides/070_managing_presence",
  "title": "CPaaS SDK for business communication solutions | Rainbow",
  "h1": "Documentation",
  "pageType": "sdk",
  "headingCount": 10,
  "headings": [
    {
      "level": 1,
      "text": "Documentation",
      "id": ""
    },
    {
      "level": 2,
      "text": "Managing Presence",
      "id": "managing-presence-0"
    },
    {
      "level": 3,
      "text": "Roster",
      "id": "roster-9"
    },
    {
      "level": 3,
      "text": "Get Contact Presence by devices",
      "id": "get-contact-presence-by-devices-26"
    },
    {
      "level": 3,
      "text": "Get Aggregated Presence",
      "id": "get-aggregated-presence-40"
    },
    {
      "level": 3,
      "text": "Manage events related to presence",
      "id": "manage-events-related-to-presence-51"
    },
    {
      "level": 3,
      "text": "Manage Presence of the current contact",
      "id": "manage-presence-of-the-current-contact-68"
    },
    {
      "level": 3,
      "text": "Set default presence once connected to the server",
      "id": "set-default-presence-once-connected-to-the-server-94"
    },
    {
      "level": 3,
      "text": "Examples",
      "id": "examples-105"
    },
    {
      "level": 3,
      "text": "Sur cette page",
      "id": "toc-card-title"
    }
  ],
  "textLength": 9117,
  "codeBlockCount": 12,
  "hasRedoc": false,
  "openApiLink": null,
  "metaDescription": "Add chat, conference, real time collaboration and communication (PBX, VoIP, P2P) capabilities, bots and more to your business applications.",
  "navLinksCount": 6,
  "lastFetchedAt": "2026-02-19T21:55:59.771Z",
  "mainHtml": "<div class=\"container-fluid\"><div><div class=\"position-relative mb-5\"><h1 class=\"text-info\">Documentation</h1><p class=\"text-info h5\">Csharp &gt; core &gt; lts &gt; guides &gt; 070_managing_presence</p></div><div class=\"row\"><div class=\"col-sm-12 col-lg-9\"><div class=\"content-doc content-display\"><div id=\"cardDocument\" class=\"card visible \"><div class=\"card-body\"><div class=\"card-text\"><div id=\"MARKDOWN_DOC_MAIN_ID\" class=\"tutorial\"><div class=\"card-text\"></div><div><h2 id=\"managing-presence-0\" name=\"name-managing-presence-0\">Managing Presence</h2>\n<p>This guide explains how to get presence of contacts in your Roster and how to set the Presence of the current contact.</p>\n<p>It's based on a full example available <a href=\"https://github.com/Rainbow-CPaaS/Rainbow-CSharp-SDK-Samples/blob/master/SDK%20V3.X/ConsoleApp/Get%20and%20set%20presence/README.md\" target=\"_blank\">here</a></p>\n<h3 id=\"roster-9\" name=\"name-roster-9\">Roster</h3>\n<hr>\n<p>The Roster is the list of contacts who share their presence with the current contact.</p>\n<p>It's not possible to get presence of a contact which is not your Roster.</p>\n<p>To get the list of contacts in you Roster, you need to use the <code>Contacts</code> service and use <code>GetAllContactsInRoster</code> method.</p>\n<pre><code class=\"language-csharp\"><div class=\"float-end position-relative\" id=\"div-52369111\"><button type=\"button\" class=\"btn btn-xs btn-outline-primary\" id=\"btn-52369111\" style=\"font-size: .6rem; padding: 4px\" onclick=\"copyToClipboard('btn-52369111', 'div-52369111')\" onfocusout=\"outFunc('btn-52369111')\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\"><path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"></path><path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"></path></svg></button></div><div class=\"overflow-auto\" style=\"padding-bottom: .75rem\">Rainbow.Application myApp = <span class=\"hljs-keyword\">new</span> Rainbow.Application();\n...\nRainbow.Contacts contacts = myApp.GetContacts();\n...\n<span class=\"hljs-comment\">// You need to log first on the server ... </span>\n\n<span class=\"hljs-keyword\">var</span> list = RbContacts.GetAllContactsInRoster();\n<span class=\"hljs-keyword\">if</span>(list.Count &gt; <span class=\"hljs-number\">0</span>)\n{\n    Util.WriteDarkYellow(<span class=\"hljs-string\">$\"<span class=\"hljs-subst\">{CR}</span>Nb Contacts in your roster:[<span class=\"hljs-subst\">{list.Count}</span>]\"</span>);\n}\n</div></code></pre>\n<p>Note: When you have a <code>Contact</code> object, it's easy to know if it's in your Roster using the property <code>InRoster</code>.</p>\n<h3 id=\"get-contact-presence-by-devices-26\" name=\"name-get-contact-presence-by-devices-26\">Get Contact Presence by devices</h3>\n<hr>\n<p>It's possible to get Contact Presence using <code>GetPresencesList(Peer peer)</code>, <code>GetPresencesList(string contactJid)</code> or <code>GetPresencesListAsync(Peer peer)</code> of <code>Contacts</code> service.</p>\n<p>These methods returns a Dictionary of <code>Presence</code> object and not just one <code>Presence</code> object since a Contact can be connected to the Rainbow server using one or several devices.</p>\n<p>The Dictionary is indexed using the resource ID of each devices using by this contact. This Dictionary is useful if you want to know specifically the contact presence for a specific device.</p>\n<pre><code class=\"language-csharp\"><div class=\"float-end position-relative\" id=\"div-1003322628\"><button type=\"button\" class=\"btn btn-xs btn-outline-primary\" id=\"btn-1003322628\" style=\"font-size: .6rem; padding: 4px\" onclick=\"copyToClipboard('btn-1003322628', 'div-1003322628')\" onfocusout=\"outFunc('btn-1003322628')\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\"><path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"></path><path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"></path></svg></button></div><div class=\"overflow-auto\" style=\"padding-bottom: .75rem\">Rainbow.Application myApp = <span class=\"hljs-keyword\">new</span> Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\nRainbow.Model.Contact contact; <span class=\"hljs-comment\">// A Contact in the Roster</span>\n\n<span class=\"hljs-comment\">// You need to log first on the server ... </span>\n\nDictionary&lt;String, Presence&gt; presences = RbContacts.GetPresencesList(contact);\n\n<span class=\"hljs-comment\">// Loop on each Presence object in the Dictionary</span>\n<span class=\"hljs-keyword\">foreach</span> (Presence presence <span class=\"hljs-keyword\">in</span> presences.Values)\n{\n    <span class=\"hljs-comment\">// presence.Contact                                   =&gt; Contact's related to this presence</span>\n    <span class=\"hljs-comment\">// presence.Apply                                     =&gt; True, if this presence must be used to build the aggregated presence.</span>\n    <span class=\"hljs-comment\">// presence.Date                                      =&gt; The Date when the presence has been set</span>\n    <span class=\"hljs-comment\">// presence.PresenceDetails / presence.PresenceLevel  =&gt; The IM Presence</span>\n    <span class=\"hljs-comment\">// presence.PresencePhoneState                        =&gt; The presence state of the phone (if any)</span>\n    <span class=\"hljs-comment\">// presence.Resource                                  =&gt; Resource Id specific of the contact device used</span>\n    <span class=\"hljs-comment\">// presence.Until                                     =&gt; in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view</span>\n\n}\n</div></code></pre>\n<h3 id=\"get-aggregated-presence-40\" name=\"name-get-aggregated-presence-40\">Get Aggregated Presence</h3>\n<hr>\n<p>If you don't need to know the Contact Presence by Device but just a summary, use the aggregated Presence information.</p>\n<p>For this, use one of these methods <code>GetAggregatedPresence(Peer peer)</code> of <code>Contacts</code> service. Only one <code>Presence</code> object is returned is this case.</p>\n<pre><code class=\"language-csharp\"><div class=\"float-end position-relative\" id=\"div-439524729\"><button type=\"button\" class=\"btn btn-xs btn-outline-primary\" id=\"btn-439524729\" style=\"font-size: .6rem; padding: 4px\" onclick=\"copyToClipboard('btn-439524729', 'div-439524729')\" onfocusout=\"outFunc('btn-439524729')\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\"><path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"></path><path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"></path></svg></button></div><div class=\"overflow-auto\" style=\"padding-bottom: .75rem\">Rainbow.Application myApp = <span class=\"hljs-keyword\">new</span> Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\nRainbow.Model.Contact contact; <span class=\"hljs-comment\">// A Contact in the Roster</span>\n\n<span class=\"hljs-comment\">// You need to log on the server ... </span>\n\nPresence presence = contacts.GetAggregatedPresence(contact);\n  <span class=\"hljs-comment\">// presence.Contact                                   =&gt; Contact's related to this presence</span>\n  <span class=\"hljs-comment\">// presence.Apply                                     =&gt; True, if this presence must be used to build the aggregated presence.</span>\n  <span class=\"hljs-comment\">// presence.Date                                      =&gt; The Date when the presence has been set</span>\n  <span class=\"hljs-comment\">// presence.PresenceDetails / presence.PresenceLevel  =&gt; The IM Presence</span>\n  <span class=\"hljs-comment\">// presence.PresencePhoneState                        =&gt; The presence state of the phone (if any)</span>\n  <span class=\"hljs-comment\">// presence.Resource                                  =&gt; Resource Id specific of the contact device used</span>\n  <span class=\"hljs-comment\">// presence.Until                                     =&gt; in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view</span>\n\n}\n</div></code></pre>\n<h3 id=\"manage-events-related-to-presence-51\" name=\"name-manage-events-related-to-presence-51\">Manage events related to presence</h3>\n<hr>\n<p>To be informed of Contact Presence update, you need to manage these events <code>ContactPresenceUpdated</code>, <code>ContactAggregatedPresenceUpdated</code> of <code>Contacts</code> service.</p>\n<p><code>ContactPresenceUpdated</code> is raised when the presence of a Contact is changed on one of its device. It's useful only if you want to know Contact Presence by device.</p>\n<p><code>ContactAggregatedPresenceUpdated</code> is raised when the aggregated presence of a Contact is changed. It's useful only if you want to know the update of the Contact Presence summary.</p>\n<p>So it's possible to have the event <code>ContactPresenceUpdated</code> raised several times but not the event <code>ContactAggregatedPresenceUpdated</code>.</p>\n<pre><code class=\"language-csharp\"><div class=\"float-end position-relative\" id=\"div-1664384130\"><button type=\"button\" class=\"btn btn-xs btn-outline-primary\" id=\"btn-1664384130\" style=\"font-size: .6rem; padding: 4px\" onclick=\"copyToClipboard('btn-1664384130', 'div-1664384130')\" onfocusout=\"outFunc('btn-1664384130')\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\"><path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"></path><path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"></path></svg></button></div><div class=\"overflow-auto\" style=\"padding-bottom: .75rem\">Rainbow.Application myApp = <span class=\"hljs-keyword\">new</span> Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\n\n<span class=\"hljs-comment\">// We want to be informed of Contact Presence update by device</span>\ncontacts.ContactPresenceUpdated += Contacts_ContactPresenceUpdated; \n\n<span class=\"hljs-comment\">// We want to be informed of Contact Presence summary update</span>\ncontacts.ContactAggregatedPresenceUpdated += Contacts_ContactAggregatedPresenceUpdated;\n\n<span class=\"hljs-comment\">// Handle Contact Presence update by device </span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">Contacts_ContactPresenceUpdated</span>(<span class=\"hljs-params\">Rainbow.Model.Presence presence</span>)</span>\n{\n  <span class=\"hljs-comment\">// presence.Contact                                   =&gt; Contact's related to this presence</span>\n  <span class=\"hljs-comment\">// presence.Apply                                     =&gt; True, if this presence must be used to build the aggregated presence.</span>\n  <span class=\"hljs-comment\">// presence.Date                                      =&gt; The Date when the presence has been set</span>\n  <span class=\"hljs-comment\">// presence.PresenceDetails / presence.PresenceLevel  =&gt; The IM Presence</span>\n  <span class=\"hljs-comment\">// presence.PresencePhoneState                        =&gt; The presence state of the phone (if any)</span>\n  <span class=\"hljs-comment\">// presence.Resource                                  =&gt; Resource Id specific of the contact device used</span>\n  <span class=\"hljs-comment\">// presence.Until   </span>\n}\n\n<span class=\"hljs-comment\">// Handle Contact Presence summary update </span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">Contacts_ContactAggregatedPresenceUpdated</span>(<span class=\"hljs-params\">Rainbow.Model.Presence presence</span>)</span>\n{\n  <span class=\"hljs-comment\">// presence.Contact                                   =&gt; Contact's related to this presence</span>\n  <span class=\"hljs-comment\">// presence.Apply                                     =&gt; True, if this presence must be used to build the aggregated presence.</span>\n  <span class=\"hljs-comment\">// presence.Date                                      =&gt; The Date when the presence has been set</span>\n  <span class=\"hljs-comment\">// presence.PresenceDetails / presence.PresenceLevel  =&gt; The IM Presence</span>\n  <span class=\"hljs-comment\">// presence.PresencePhoneState                        =&gt; The presence state of the phone (if any)</span>\n  <span class=\"hljs-comment\">// presence.Resource                                  =&gt; Resource Id specific of the contact device used</span>\n  <span class=\"hljs-comment\">// presence.Until   </span>\n}\n</div></code></pre>\n<h3 id=\"manage-presence-of-the-current-contact-68\" name=\"name-manage-presence-of-the-current-contact-68\">Manage Presence of the current contact</h3>\n<hr>\n<p>To manage the Presence of the current contact of you have these methods in <code>Contacts</code> service:</p>\n<ul>\n<li><code>GetPresencesList(null)</code>: To get the Dictionary of the current Contact Presence (so to know by device the Presence)</li>\n<li><code>GetAggregatedPresence(null)</code>: to get the current Contact summary Presence</li>\n</ul>\n<p>Same events, explained in previous chapter, must be used to know the update of the current contact from <code>Contacts</code> service: <code>ContactPresenceUpdated</code>, <code>ContactAggregatedPresenceUpdated</code>.</p>\n<p>To set the Presence of the current Contact, use <code>SetPresenceLevelAsync</code> or in <code>SetBusyPresenceAccordingMediasAsync</code> <code>Contacts</code> service.</p>\n<pre><code class=\"language-csharp\"><div class=\"float-end position-relative\" id=\"div-1791571540\"><button type=\"button\" class=\"btn btn-xs btn-outline-primary\" id=\"btn-1791571540\" style=\"font-size: .6rem; padding: 4px\" onclick=\"copyToClipboard('btn-1791571540', 'div-1791571540')\" onfocusout=\"outFunc('btn-1791571540')\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\"><path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"></path><path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"></path></svg></button></div><div class=\"overflow-auto\" style=\"padding-bottom: .75rem\">Rainbow.Application myApp = <span class=\"hljs-keyword\">new</span> Rainbow.Application();\n...\nRainbow.Contacts contacts = myApp.GetContacts();\n\n<span class=\"hljs-comment\">// Need to log on the server ...</span>\n\n<span class=\"hljs-comment\">// Define the Presence of the current contact - here in \"Do Not Disturb (in Presentation)\"</span>\nString presenceLevel = Rainbow.Model.PresenceLevel.Dnd;\nString presenceDetails = Rainbow.Model.PresenceDetails.Presentation;  \n\ncontacts.SetBusyPresenceAccordingMediasAsync(Call.Media.VIDEO);\n\n<span class=\"hljs-keyword\">var</span> sdkResultBusy = <span class=\"hljs-keyword\">await</span> contacts.SetBusyPresenceAccordingMediasAsync(newPresence);\n<span class=\"hljs-keyword\">if</span> (!sdkResultBusy.Success)\n{\n    <span class=\"hljs-keyword\">if</span> (sdkResultBusy.Result.IncorrectUseError != <span class=\"hljs-literal\">null</span>)\n    {\n        <span class=\"hljs-comment\">// We try to set an invalid presence</span>\n        Util.WriteRed(<span class=\"hljs-string\">$\"SetBusyPresenceAccordingMediasAsync - SdkError:[<span class=\"hljs-subst\">{sdkResultBusy.Result}</span>]\"</span>);\n    }\n    <span class=\"hljs-keyword\">else</span>\n    {\n        <span class=\"hljs-comment\">// Pb with the server</span>\n        Util.WriteRed(<span class=\"hljs-string\">$\"SetBusyPresenceAccordingMediasAsync - SdkError:[<span class=\"hljs-subst\">{sdkResultBusy.Result}</span>]\"</span>);\n    }\n}\n\n...\n\nPresence newPresence = contacts.CreatePresence(PresenceLevel.Busy, PresenceDetails.Audio);\n<span class=\"hljs-comment\">// newPresence = contacts.CreatePresence(PresenceLevel.Away);</span>\n<span class=\"hljs-comment\">// newPresence = contacts.CreatePresence(PresenceLevel.Dnd);</span>\n<span class=\"hljs-comment\">// newPresence = contacts.CreatePresence(PresenceLevel.Online);</span>\n\n<span class=\"hljs-keyword\">var</span> sdkResult = <span class=\"hljs-keyword\">await</span> contacts.SetPresenceLevelAsync(newPresence);\n<span class=\"hljs-keyword\">if</span> (!sdkResult.Success)\n{\n    <span class=\"hljs-keyword\">if</span> (sdkResult.Result.IncorrectUseError != <span class=\"hljs-literal\">null</span>)\n    {\n        <span class=\"hljs-comment\">// We try to set an invalid presence</span>\n        Util.WriteRed(<span class=\"hljs-string\">$\"SetPresenceLevelAsync - SdkError:[<span class=\"hljs-subst\">{sdkResult.Result}</span>]\"</span>);\n    }\n    <span class=\"hljs-keyword\">else</span>\n    {\n        <span class=\"hljs-comment\">// Pb with the server</span>\n        Util.WriteRed(<span class=\"hljs-string\">$\"SetPresenceLevelAsync - SdkError:[<span class=\"hljs-subst\">{sdkResult.Result}</span>]\"</span>);\n    }\n}\n\n\n</div></code></pre>\n<h3 id=\"set-default-presence-once-connected-to-the-server-94\" name=\"name-set-default-presence-once-connected-to-the-server-94\">Set default presence once connected to the server</h3>\n<hr>\n<p>By default the default presence set once onnected to the server is <strong>Online</strong>.</p>\n<p>It's possible to set another default presence using <code>SetDefaultPresenceLevel</code> method from <code>Application</code> object</p>\n<pre><code class=\"language-csharp\"><div class=\"float-end position-relative\" id=\"div-1547100855\"><button type=\"button\" class=\"btn btn-xs btn-outline-primary\" id=\"btn-1547100855\" style=\"font-size: .6rem; padding: 4px\" onclick=\"copyToClipboard('btn-1547100855', 'div-1547100855')\" onfocusout=\"outFunc('btn-1547100855')\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\"><path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"></path><path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"></path></svg></button></div><div class=\"overflow-auto\" style=\"padding-bottom: .75rem\">Rainbow.Application myApp = <span class=\"hljs-keyword\">new</span> Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n\n<span class=\"hljs-comment\">// Create a defautl presence level</span>\nPresence defaultPresence = <span class=\"hljs-keyword\">new</span> Presence(contacts.CreatePresence(PresenceLevel.Away));\n\n<span class=\"hljs-comment\">// Set it in Application object</span>\nmyApp.SetDefaultPresenceLevel(defaultPresence);\n\n</div></code></pre>\n<h3 id=\"examples-105\" name=\"name-examples-105\">Examples</h3>\n<p>You can take a look to several examples available <a href=\"https://github.com/Rainbow-CPaaS/Rainbow-CSharp-SDK-Samples/tree/master/SDK%20V3.X/README.md\" target=\"_blank\">here</a></p>\n</div></div></div></div></div></div></div><div class=\"col-sm-3 d-none d-lg-block\"><div id=\"toc-card\" class=\"card sticky-top\"><div class=\"card-header\"><h3 id=\"toc-card-title\" class=\"card-title h5\">Sur cette page</h3></div><div class=\"card-body card-extended-plus\"><ul id=\"toc-list\" class=\"list-group list-unstyled\"></ul></div></div></div></div><hr><div class=\"mt-3 text-center\"><div class=\"d-inline-flex justify-content-center align-items-center\"><span id=\"message\">Ce contenu vous a-t-il été utile ?</span><span class=\"ms-2\"><button id=\"btn-yes\" class=\"btn btn-primary btn-sm\" aria-label=\"Utile\" data-target=\"#RankingModal\" data-toggle=\"modal\">Oui</button></span><span class=\"ms-1\"><button id=\"btn-no\" class=\"btn btn-primary btn-sm\" aria-label=\"Inutile\" data-target=\"#RankingModal\" data-toggle=\"modal\">Non</button></span></div></div></div><button class=\"btn btn-scrolltop\" title=\"Revenez en haut de la page\" style=\"display: none;\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"circle-up\" class=\"svg-inline--fa fa-circle-up icon text-primary\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM135.1 217.4l107.1-99.9c3.8-3.5 8.7-5.5 13.8-5.5s10.1 2 13.8 5.5l107.1 99.9c4.5 4.2 7.1 10.1 7.1 16.3c0 12.3-10 22.3-22.3 22.3H304v96c0 17.7-14.3 32-32 32H240c-17.7 0-32-14.3-32-32V256H150.3C138 256 128 246 128 233.7c0-6.2 2.6-12.1 7.1-16.3z\"></path></svg></button><button class=\"btn btn-feedback\" name=\"Feedback\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"far\" data-icon=\"comment-dots\" class=\"svg-inline--fa fa-comment-dots text-white\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M168.2 384.9c-15-5.4-31.7-3.1-44.6 6.4c-8.2 6-22.3 14.8-39.4 22.7c5.6-14.7 9.9-31.3 11.3-49.4c1-12.9-3.3-25.7-11.8-35.5C60.4 302.8 48 272 48 240c0-79.5 83.3-160 208-160s208 80.5 208 160s-83.3 160-208 160c-31.6 0-61.3-5.5-87.8-15.1zM26.3 423.8c-1.6 2.7-3.3 5.4-5.1 8.1l-.3 .5c-1.6 2.3-3.2 4.6-4.8 6.9c-3.5 4.7-7.3 9.3-11.3 13.5c-4.6 4.6-5.9 11.4-3.4 17.4c2.5 6 8.3 9.9 14.8 9.9c5.1 0 10.2-.3 15.3-.8l.7-.1c4.4-.5 8.8-1.1 13.2-1.9c.8-.1 1.6-.3 2.4-.5c17.8-3.5 34.9-9.5 50.1-16.1c22.9-10 42.4-21.9 54.3-30.6c31.8 11.5 67 17.9 104.1 17.9c141.4 0 256-93.1 256-208S397.4 32 256 32S0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9c-1.9 24.5-11.4 46.3-21.4 62.9zM144 272a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm144-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm80 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z\"></path></svg><span class=\"ms-2 text-white label\">Feedback</span></button><footer id=\"footer\"><hr><div class=\"container-fluid\"><div class=\"row\"><div class=\"col-lg-3 mb-3\"><div id=\"footer-brand\"><img src=\"data:image/png;base64,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\" alt=\"Logo\" loading=\"lazy\" width=\"164\"></div><div class=\"mt-3\"><p id=\"footer-copyright\" class=\"mb-0\">© Copyright - 2022 | &nbsp;<a href=\"https://www.al-enterprise.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link btn-link-violet\">ALE International</a></p><p id=\"footer-version\">CPaaS SDK for business communication solutions | Rainbow v2.31.0</p></div></div><div class=\"col-6 col-lg-2\"><p class=\"text-uppercase h6\">Produits</p><p class=\"border-bottom border-violet border-1 w-25\"></p><ul class=\"list-unstyled\"><li><a class=\"link text-info\" href=\"/doc/sdk/web/home\">Web</a></li><li><a class=\"link text-info\" href=\"/doc/sdk/node/home\">Node</a></li><li><a class=\"link text-info\" href=\"/doc/sdk/android/home\">Android</a></li><li><a class=\"link text-info\" href=\"/doc/sdk/ios/home\">iOS</a></li><li><a class=\"link text-info\" href=\"/doc/sdk/reactnative/home\">React Native</a></li><li><a class=\"link text-info\" href=\"/doc/sdk/csharp/home\">CSharp</a></li><li><a class=\"link text-info\" href=\"/doc/apis/home\">APIs</a></li></ul></div><div class=\"col-6 col-lg-2\"><p class=\"text-uppercase h6\">Liens utiles</p><p class=\"border-bottom border-violet border-1 w-25\"></p><ul class=\"list-unstyled\"><li><a class=\"link text-info\" href=\"/doc/hub/getting-started\">Documentation</a></li><li><a class=\"link text-info\" href=\"/store\">Store</a></li><li><a class=\"link text-info\" href=\"/support\">Support</a></li><li><a class=\"link text-info\" href=\"/pricing\">Tarifs</a></li><li><a class=\"link text-info\" href=\"/home\">Accueil</a></li></ul></div><div class=\"col-6 col-lg-2\"><p class=\"text-uppercase h6\">Explore</p><p class=\"border-bottom border-violet border-1 w-25\"></p><ul class=\"list-unstyled\"><li><a href=\"https://www.al-enterprise.com/en/legal\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Mentions légales</a></li><li><a href=\"/static/media/Rainbow for Developers_Services Agreement for Developer_ed4.1.aab5f2e8c55a304e81a4.pdf\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Contrat de services</a></li><li><a href=\"/static/media/Rainbow for Developers_Developer Agreement_ed4.1.ce6e33796bd870f056b7.pdf\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Contrat de développeur</a></li><li><a href=\"https://www.al-enterprise.com/en/legal/cookie-policy\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Politique de cookies</a></li><li><a class=\"link text-info\" href=\"/licenses\">Logiciels tiers</a></li></ul></div><div class=\"col-6 col-lg-2\"><p class=\"text-uppercase h6\">Entreprise</p><p class=\"border-bottom border-violet border-1 w-25\"></p><ul class=\"list-unstyled\"><li><a href=\"https://www.al-enterprise.com/en/partners/dspp\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Partenaires</a></li><li><a href=\"https://www.al-enterprise.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Nous visiter</a></li><li><a href=\"https://www.openrainbow.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Rainbow</a></li><li><a href=\"mailto:support@openrainbow.com?subject=[RainbowForDevelopers] Sales support\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link text-info\">Nous contacter</a></li></ul></div></div><div class=\"row\"><div class=\"col-12 mb-4\"><p class=\"mb-2 h5\">Suivez-nous sur</p><ul class=\"list-inline mb-0 mt-3\"><li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" aria-label=\"Suivez-nous sur Facebook\" data-bs-original-title=\"Suivez-nous sur Facebook\"><a href=\"http://www.facebook.com/ALUEnterprise\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link btn btn-facebook shadow mb-0\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fab\" data-icon=\"facebook-f\" class=\"svg-inline--fa fa-facebook-f \" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path fill=\"currentColor\" d=\"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z\"></path></svg></a></li><li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" aria-label=\"Suivez-nous sur Twitter\" data-bs-original-title=\"Suivez-nous sur Twitter\"><a href=\"http://twitter.com/ALUEnterprise\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link btn btn-twitter shadow mb-0\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fab\" data-icon=\"twitter\" class=\"svg-inline--fa fa-twitter \" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"></path></svg></a></li><li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" aria-label=\"Suivez-nous sur Linkedin\" data-bs-original-title=\"Suivez-nous sur Linkedin\"><a href=\"https://www.linkedin.com/company/alcatellucententerprise\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link btn btn-linkedin shadow mb-0\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fab\" data-icon=\"linkedin\" class=\"svg-inline--fa fa-linkedin \" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z\"></path></svg></a></li><li class=\"list-inline-item\" data-bs-toggle=\"tooltip\" aria-label=\"Suivez-nous sur Github\" data-bs-original-title=\"Suivez-nous sur Github\"><a href=\"https://github.com/Rainbow-CPaaS\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link btn btn-github shadow mb-0\"><svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fab\" data-icon=\"github\" class=\"svg-inline--fa fa-github \" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\"><path fill=\"currentColor\" d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"></path></svg></a></li></ul></div></div></div></footer></div>",
  "text": "DocumentationCsharp > core > lts > guides > 070_managing_presenceManaging Presence This guide explains how to get presence of contacts in your Roster and how to set the Presence of the current contact. It's based on a full example available here Roster The Roster is the list of contacts who share their presence with the current contact. It's not possible to get presence of a contact which is not your Roster. To get the list of contacts in you Roster, you need to use the Contacts service and use GetAllContactsInRoster method. Rainbow.Application myApp = new Rainbow.Application(); ... Rainbow.Contacts contacts = myApp.GetContacts(); ... // You need to log first on the server ... var list = RbContacts.GetAllContactsInRoster(); if(list.Count > 0) { Util.WriteDarkYellow($\"{CR}Nb Contacts in your roster:[{list.Count}]\"); } Note: When you have a Contact object, it's easy to know if it's in your Roster using the property InRoster. Get Contact Presence by devices It's possible to get Contact Presence using GetPresencesList(Peer peer), GetPresencesList(string contactJid) or GetPresencesListAsync(Peer peer) of Contacts service. These methods returns a Dictionary of Presence object and not just one Presence object since a Contact can be connected to the Rainbow server using one or several devices. The Dictionary is indexed using the resource ID of each devices using by this contact. This Dictionary is useful if you want to know specifically the contact presence for a specific device. Rainbow.Application myApp = new Rainbow.Application(); Rainbow.Contacts contacts = myApp.GetContacts(); ... Rainbow.Model.Contact contact; // A Contact in the Roster // You need to log first on the server ... Dictionary<String, Presence> presences = RbContacts.GetPresencesList(contact); // Loop on each Presence object in the Dictionary foreach (Presence presence in presences.Values) { // presence.Contact => Contact's related to this presence // presence.Apply => True, if this presence must be used to build the aggregated presence. // presence.Date => The Date when the presence has been set // presence.PresenceDetails / presence.PresenceLevel => The IM Presence // presence.PresencePhoneState => The presence state of the phone (if any) // presence.Resource => Resource Id specific of the contact device used // presence.Until => in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view } Get Aggregated Presence If you don't need to know the Contact Presence by Device but just a summary, use the aggregated Presence information. For this, use one of these methods GetAggregatedPresence(Peer peer) of Contacts service. Only one Presence object is returned is this case. Rainbow.Application myApp = new Rainbow.Application(); Rainbow.Contacts contacts = myApp.GetContacts(); ... Rainbow.Model.Contact contact; // A Contact in the Roster // You need to log on the server ... Presence presence = contacts.GetAggregatedPresence(contact); // presence.Contact => Contact's related to this presence // presence.Apply => True, if this presence must be used to build the aggregated presence. // presence.Date => The Date when the presence has been set // presence.PresenceDetails / presence.PresenceLevel => The IM Presence // presence.PresencePhoneState => The presence state of the phone (if any) // presence.Resource => Resource Id specific of the contact device used // presence.Until => in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view } Manage events related to presence To be informed of Contact Presence update, you need to manage these events ContactPresenceUpdated, ContactAggregatedPresenceUpdated of Contacts service. ContactPresenceUpdated is raised when the presence of a Contact is changed on one of its device. It's useful only if you want to know Contact Presence by device. ContactAggregatedPresenceUpdated is raised when the aggregated presence of a Contact is changed. It's useful only if you want to know the update of the Contact Presence summary. So it's possible to have the event ContactPresenceUpdated raised several times but not the event ContactAggregatedPresenceUpdated. Rainbow.Application myApp = new Rainbow.Application(); Rainbow.Contacts contacts = myApp.GetContacts(); ... // We want to be informed of Contact Presence update by device contacts.ContactPresenceUpdated += Contacts_ContactPresenceUpdated; // We want to be informed of Contact Presence summary update contacts.ContactAggregatedPresenceUpdated += Contacts_ContactAggregatedPresenceUpdated; // Handle Contact Presence update by device private void Contacts_ContactPresenceUpdated(Rainbow.Model.Presence presence) { // presence.Contact => Contact's related to this presence // presence.Apply => True, if this presence must be used to build the aggregated presence. // presence.Date => The Date when the presence has been set // presence.PresenceDetails / presence.PresenceLevel => The IM Presence // presence.PresencePhoneState => The presence state of the phone (if any) // presence.Resource => Resource Id specific of the contact device used // presence.Until } // Handle Contact Presence summary update private void Contacts_ContactAggregatedPresenceUpdated(Rainbow.Model.Presence presence) { // presence.Contact => Contact's related to this presence // presence.Apply => True, if this presence must be used to build the aggregated presence. // presence.Date => The Date when the presence has been set // presence.PresenceDetails / presence.PresenceLevel => The IM Presence // presence.PresencePhoneState => The presence state of the phone (if any) // presence.Resource => Resource Id specific of the contact device used // presence.Until } Manage Presence of the current contact To manage the Presence of the current contact of you have these methods in Contacts service: GetPresencesList(null): To get the Dictionary of the current Contact Presence (so to know by device the Presence) GetAggregatedPresence(null): to get the current Contact summary Presence Same events, explained in previous chapter, must be used to know the update of the current contact from Contacts service: ContactPresenceUpdated, ContactAggregatedPresenceUpdated. To set the Presence of the current Contact, use SetPresenceLevelAsync or in SetBusyPresenceAccordingMediasAsync Contacts service. Rainbow.Application myApp = new Rainbow.Application(); ... Rainbow.Contacts contacts = myApp.GetContacts(); // Need to log on the server ... // Define the Presence of the current contact - here in \"Do Not Disturb (in Presentation)\" String presenceLevel = Rainbow.Model.PresenceLevel.Dnd; String presenceDetails = Rainbow.Model.PresenceDetails.Presentation; contacts.SetBusyPresenceAccordingMediasAsync(Call.Media.VIDEO); var sdkResultBusy = await contacts.SetBusyPresenceAccordingMediasAsync(newPresence); if (!sdkResultBusy.Success) { if (sdkResultBusy.Result.IncorrectUseError != null) { // We try to set an invalid presence Util.WriteRed($\"SetBusyPresenceAccordingMediasAsync - SdkError:[{sdkResultBusy.Result}]\"); } else { // Pb with the server Util.WriteRed($\"SetBusyPresenceAccordingMediasAsync - SdkError:[{sdkResultBusy.Result}]\"); } } ... Presence newPresence = contacts.CreatePresence(PresenceLevel.Busy, PresenceDetails.Audio); // newPresence = contacts.CreatePresence(PresenceLevel.Away); // newPresence = contacts.CreatePresence(PresenceLevel.Dnd); // newPresence = contacts.CreatePresence(PresenceLevel.Online); var sdkResult = await contacts.SetPresenceLevelAsync(newPresence); if (!sdkResult.Success) { if (sdkResult.Result.IncorrectUseError != null) { // We try to set an invalid presence Util.WriteRed($\"SetPresenceLevelAsync - SdkError:[{sdkResult.Result}]\"); } else { // Pb with the server Util.WriteRed($\"SetPresenceLevelAsync - SdkError:[{sdkResult.Result}]\"); } } Set default presence once connected to the server By default the default presence set once onnected to the server is Online. It's possible to set another default presence using SetDefaultPresenceLevel method from Application object Rainbow.Application myApp = new Rainbow.Application(); Rainbow.Contacts contacts = myApp.GetContacts(); // Create a defautl presence level Presence defaultPresence = new Presence(contacts.CreatePresence(PresenceLevel.Away)); // Set it in Application object myApp.SetDefaultPresenceLevel(defaultPresence); Examples You can take a look to several examples available here Sur cette pageCe contenu vous a-t-il été utile ?OuiNonFeedback© Copyright - 2022 | ALE InternationalCPaaS SDK for business communication solutions | Rainbow v2.31.0ProduitsWebNodeAndroidiOSReact NativeCSharpAPIsLiens utilesDocumentationStoreSupportTarifsAccueilExploreMentions légalesContrat de servicesContrat de développeurPolitique de cookiesLogiciels tiersEntreprisePartenairesNous visiterRainbowNous contacterSuivez-nous sur",
  "codeBlocks": [
    {
      "language": "",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\n...\nRainbow.Contacts contacts = myApp.GetContacts();\n...\n// You need to log first on the server ... \n\nvar list = RbContacts.GetAllContactsInRoster();\nif(list.Count > 0)\n{\n    Util.WriteDarkYellow($\"{CR}Nb Contacts in your roster:[{list.Count}]\");\n}"
    },
    {
      "language": "csharp",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\n...\nRainbow.Contacts contacts = myApp.GetContacts();\n...\n// You need to log first on the server ... \n\nvar list = RbContacts.GetAllContactsInRoster();\nif(list.Count > 0)\n{\n    Util.WriteDarkYellow($\"{CR}Nb Contacts in your roster:[{list.Count}]\");\n}"
    },
    {
      "language": "",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\nRainbow.Model.Contact contact; // A Contact in the Roster\n\n// You need to log first on the server ... \n\nDictionary<String, Presence> presences = RbContacts.GetPresencesList(contact);\n\n// Loop on each Presence object in the Dictionary\nforeach (Presence presence in presences.Values)\n{\n    // presence.Contact                                   => Contact's related to this presence\n    // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n    // presence.Date                                      => The Date when the presence has been set\n    // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n    // presence.PresencePhoneState                        => The presence state of the phone (if any)\n    // presence.Resource                                  => Resource Id specific of the contact device used\n    // presence.Until                                     => in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view\n\n}"
    },
    {
      "language": "csharp",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\nRainbow.Model.Contact contact; // A Contact in the Roster\n\n// You need to log first on the server ... \n\nDictionary<String, Presence> presences = RbContacts.GetPresencesList(contact);\n\n// Loop on each Presence object in the Dictionary\nforeach (Presence presence in presences.Values)\n{\n    // presence.Contact                                   => Contact's related to this presence\n    // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n    // presence.Date                                      => The Date when the presence has been set\n    // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n    // presence.PresencePhoneState                        => The presence state of the phone (if any)\n    // presence.Resource                                  => Resource Id specific of the contact device used\n    // presence.Until                                     => in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view\n\n}"
    },
    {
      "language": "",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\nRainbow.Model.Contact contact; // A Contact in the Roster\n\n// You need to log on the server ... \n\nPresence presence = contacts.GetAggregatedPresence(contact);\n  // presence.Contact                                   => Contact's related to this presence\n  // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n  // presence.Date                                      => The Date when the presence has been set\n  // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n  // presence.PresencePhoneState                        => The presence state of the phone (if any)\n  // presence.Resource                                  => Resource Id specific of the contact device used\n  // presence.Until                                     => in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view\n\n}"
    },
    {
      "language": "csharp",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\nRainbow.Model.Contact contact; // A Contact in the Roster\n\n// You need to log on the server ... \n\nPresence presence = contacts.GetAggregatedPresence(contact);\n  // presence.Contact                                   => Contact's related to this presence\n  // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n  // presence.Date                                      => The Date when the presence has been set\n  // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n  // presence.PresencePhoneState                        => The presence state of the phone (if any)\n  // presence.Resource                                  => Resource Id specific of the contact device used\n  // presence.Until                                     => in UTC format - The validity date until this presence is valid (if not equals to DateTime.MinValue). For calendar presence, if date is passed, it means that the user is \"available\" from a calendra presence point of view\n\n}"
    },
    {
      "language": "",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\n\n// We want to be informed of Contact Presence update by device\ncontacts.ContactPresenceUpdated += Contacts_ContactPresenceUpdated; \n\n// We want to be informed of Contact Presence summary update\ncontacts.ContactAggregatedPresenceUpdated += Contacts_ContactAggregatedPresenceUpdated;\n\n// Handle Contact Presence update by device \nprivate void Contacts_ContactPresenceUpdated(Rainbow.Model.Presence presence)\n{\n  // presence.Contact                                   => Contact's related to this presence\n  // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n  // presence.Date                                      => The Date when the presence has been set\n  // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n  // presence.PresencePhoneState                        => The presence state of the phone (if any)\n  // presence.Resource                                  => Resource Id specific of the contact device used\n  // presence.Until   \n}\n\n// Handle Contact Presence summary update \nprivate void Contacts_ContactAggregatedPresenceUpdated(Rainbow.Model.Presence presence)\n{\n  // presence.Contact                                   => Contact's related to this presence\n  // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n  // presence.Date                                      => The Date when the presence has been set\n  // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n  // presence.PresencePhoneState                        => The presence state of the phone (if any)\n  // presence.Resource                                  => Resource Id specific of the contact device used\n  // presence.Until   \n}"
    },
    {
      "language": "csharp",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n...\n\n// We want to be informed of Contact Presence update by device\ncontacts.ContactPresenceUpdated += Contacts_ContactPresenceUpdated; \n\n// We want to be informed of Contact Presence summary update\ncontacts.ContactAggregatedPresenceUpdated += Contacts_ContactAggregatedPresenceUpdated;\n\n// Handle Contact Presence update by device \nprivate void Contacts_ContactPresenceUpdated(Rainbow.Model.Presence presence)\n{\n  // presence.Contact                                   => Contact's related to this presence\n  // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n  // presence.Date                                      => The Date when the presence has been set\n  // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n  // presence.PresencePhoneState                        => The presence state of the phone (if any)\n  // presence.Resource                                  => Resource Id specific of the contact device used\n  // presence.Until   \n}\n\n// Handle Contact Presence summary update \nprivate void Contacts_ContactAggregatedPresenceUpdated(Rainbow.Model.Presence presence)\n{\n  // presence.Contact                                   => Contact's related to this presence\n  // presence.Apply                                     => True, if this presence must be used to build the aggregated presence.\n  // presence.Date                                      => The Date when the presence has been set\n  // presence.PresenceDetails / presence.PresenceLevel  => The IM Presence\n  // presence.PresencePhoneState                        => The presence state of the phone (if any)\n  // presence.Resource                                  => Resource Id specific of the contact device used\n  // presence.Until   \n}"
    },
    {
      "language": "",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\n...\nRainbow.Contacts contacts = myApp.GetContacts();\n\n// Need to log on the server ...\n\n// Define the Presence of the current contact - here in \"Do Not Disturb (in Presentation)\"\nString presenceLevel = Rainbow.Model.PresenceLevel.Dnd;\nString presenceDetails = Rainbow.Model.PresenceDetails.Presentation;  \n\ncontacts.SetBusyPresenceAccordingMediasAsync(Call.Media.VIDEO);\n\nvar sdkResultBusy = await contacts.SetBusyPresenceAccordingMediasAsync(newPresence);\nif (!sdkResultBusy.Success)\n{\n    if (sdkResultBusy.Result.IncorrectUseError != null)\n    {\n        // We try to set an invalid presence\n        Util.WriteRed($\"SetBusyPresenceAccordingMediasAsync - SdkError:[{sdkResultBusy.Result}]\");\n    }\n    else\n    {\n        // Pb with the server\n        Util.WriteRed($\"SetBusyPresenceAccordingMediasAsync - SdkError:[{sdkResultBusy.Result}]\");\n    }\n}\n\n...\n\nPresence newPresence = contacts.CreatePresence(PresenceLevel.Busy, PresenceDetails.Audio);\n// newPresence = contacts.CreatePresence(PresenceLevel.Away);\n// newPresence = contacts.CreatePresence(PresenceLevel.Dnd);\n// newPresence = contacts.CreatePresence(PresenceLevel.Online);\n\nvar sdkResult = await contacts.SetPresenceLevelAsync(newPresence);\nif (!sdkResult.Success)\n{\n    if (sdkResult.Result.IncorrectUseError != null)\n    {\n        // We try to set an invalid presence\n        Util.WriteRed($\"SetPresenceLevelAsync - SdkError:[{sdkResult.Result}]\");\n    }\n    else\n    {\n        // Pb with the server\n        Util.WriteRed($\"SetPresenceLevelAsync - SdkError:[{sdkResult.Result}]\");\n    }\n}"
    },
    {
      "language": "csharp",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\n...\nRainbow.Contacts contacts = myApp.GetContacts();\n\n// Need to log on the server ...\n\n// Define the Presence of the current contact - here in \"Do Not Disturb (in Presentation)\"\nString presenceLevel = Rainbow.Model.PresenceLevel.Dnd;\nString presenceDetails = Rainbow.Model.PresenceDetails.Presentation;  \n\ncontacts.SetBusyPresenceAccordingMediasAsync(Call.Media.VIDEO);\n\nvar sdkResultBusy = await contacts.SetBusyPresenceAccordingMediasAsync(newPresence);\nif (!sdkResultBusy.Success)\n{\n    if (sdkResultBusy.Result.IncorrectUseError != null)\n    {\n        // We try to set an invalid presence\n        Util.WriteRed($\"SetBusyPresenceAccordingMediasAsync - SdkError:[{sdkResultBusy.Result}]\");\n    }\n    else\n    {\n        // Pb with the server\n        Util.WriteRed($\"SetBusyPresenceAccordingMediasAsync - SdkError:[{sdkResultBusy.Result}]\");\n    }\n}\n\n...\n\nPresence newPresence = contacts.CreatePresence(PresenceLevel.Busy, PresenceDetails.Audio);\n// newPresence = contacts.CreatePresence(PresenceLevel.Away);\n// newPresence = contacts.CreatePresence(PresenceLevel.Dnd);\n// newPresence = contacts.CreatePresence(PresenceLevel.Online);\n\nvar sdkResult = await contacts.SetPresenceLevelAsync(newPresence);\nif (!sdkResult.Success)\n{\n    if (sdkResult.Result.IncorrectUseError != null)\n    {\n        // We try to set an invalid presence\n        Util.WriteRed($\"SetPresenceLevelAsync - SdkError:[{sdkResult.Result}]\");\n    }\n    else\n    {\n        // Pb with the server\n        Util.WriteRed($\"SetPresenceLevelAsync - SdkError:[{sdkResult.Result}]\");\n    }\n}"
    },
    {
      "language": "",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n\n// Create a defautl presence level\nPresence defaultPresence = new Presence(contacts.CreatePresence(PresenceLevel.Away));\n\n// Set it in Application object\nmyApp.SetDefaultPresenceLevel(defaultPresence);"
    },
    {
      "language": "csharp",
      "code": "Rainbow.Application myApp = new Rainbow.Application();\nRainbow.Contacts contacts = myApp.GetContacts();\n\n// Create a defautl presence level\nPresence defaultPresence = new Presence(contacts.CreatePresence(PresenceLevel.Away));\n\n// Set it in Application object\nmyApp.SetDefaultPresenceLevel(defaultPresence);"
    }
  ],
  "navLinks": [
    {
      "text": "",
      "href": "https://developers.openrainbow.com/home"
    },
    {
      "text": "S'IDENTIFIER",
      "href": "https://developers.openrainbow.com/login"
    },
    {
      "text": "Accueil",
      "href": "https://developers.openrainbow.com/home"
    },
    {
      "text": "Store",
      "href": "https://developers.openrainbow.com/store"
    },
    {
      "text": "Support",
      "href": "https://developers.openrainbow.com/support"
    },
    {
      "text": "TarifsNew",
      "href": "https://developers.openrainbow.com/pricing"
    }
  ]
}