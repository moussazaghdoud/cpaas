---
title: "CPaaS SDK for business communication solutions | Rainbow"
description: ""
type: "sdk"
source: "https://developers.openrainbow.com/doc/sdk/android/lts/guides/Managing_alerts_and_devices"
lastSynced: "2026-02-20T07:12:28.655Z"
---
# Documentation

Managing alerts

LTS release 2.61.0Published on 202-04-06

## Managing Alerts and Devices

---

The Alerts module allows you to create devices represented by the `AlertDevice` object. This `AlertDevice` can then receive alerts based on the Common Alerting Protocol (CAP). By using this module, users can efficiently manage their devices and handle alerts effectively.

**Rainbow concept**

**Description**

**AlertDevice**

Represents a device that can receive alerts. It contains properties such as device ID, name, type, and user information.

**AlertTemplate**

A template for alerts, containing details such as the alert's title, description, urgency, and other metadata.

### Preamble

---

Before using the `Alerts` module, ensure that:

-   Your development environment is correctly set up, following the guidelines in the [Getting Started](/docs/sdk/android) tutorial.
-   Your application is successfully connected to the Rainbow platform, as outlined in the [Connect to Rainbow](/docs/sdk/android) tutorial.
-   You have the necessary authentication credentials and API keys available.

Once these prerequisites are in place, you are ready to manage alerts and devices using the Rainbow SDK for Android.

### Fetch devices

---

To retrieve a list of devices associated with the user account, use the `fetchDevices()` method. This method will return the devices that will receive alerts.

Here’s an example of how to fetch devices:

```kotlin
RainbowSdk().alerts().fetchDevices(object : RainbowListener<AlertDevicesData, Unit> {
    override fun onSuccess(data: AlertDevicesData) {
        // Handle the list of AlertDevice instances
        val devices = data.data
        val totalDevices = data.total
        val limit = data.limit
        val offset = data.offset

        // Use the devices list, for example, display them in the UI
        devices.forEach { device ->
            println("Device ID: ${device.id}, Device Name: ${device.name}")
        }

        // Handle pagination if necessary
        println("Total devices: $totalDevices, Limit: $limit, Offset: $offset")
    }

    override fun onError(error: RainbowError<Unit>) {
        // Handle the error if the fetch fails
    }
})
```

### Create an AlertDevice

---

To create a new `AlertDevice`, use the `createDevice()` method.

Here’s an example of how to create an AlertDevice:

```kotlin
val alertDevice = AlertDevice(
    id = "device_id_123",
    name = "My Device",
    type = "android",
    userId = "user_id_456",
    companyId = "company_id_789",
    jidIm = "device_jid_im",
    creationDate = Date()
)

RainbowSdk().alerts().createDevice(alertDevice, object : RainbowListener<AlertDevice, Unit> {
    override fun onSuccess(data: AlertDevice) {
        // Handle success
    }

    override fun onError(error: RainbowError<Unit>) {
        // Handle error
    }
})
```

### Update an AlertDevice

---

To update an existing device associated with the user account, use the `updateDevice()` method.

Here’s an example of how to update an alert device:

```kotlin
val updatedAlertDevice = alertDevice.copy(name = "Updated Device Name")

RainbowSdk().alerts().updateDevice(updatedAlertDevice, object : RainbowListener<AlertDevice, Unit> {
    override fun onSuccess(data: AlertDevice) {
        // Handle the updated alert device
    }

    override fun onError(error: RainbowError<Unit>) {
        // Handle the error if update fails
    }
})
```

### Delete an AlertDevice

---

To remove a device associated with the user account, use the `deleteDevice()` method.

Here’s an example of how to delete an alert device:

```kotlin
RainbowSdk().alerts().deleteDevice("device-id", object : RainbowListener<Unit, Unit> {
    override fun onSuccess(data: Unit) {
        // Handle successful deletion
    }

    override fun onError(error: RainbowError<Unit>) {
        // Handle the error if deletion fails
    }
})
```

### Sending Acknowledgements

---

To send read and received acknowledgements for alerts, use the following methods. These acknowledgements should ideally be sent in a part of the application that survives even when the UI is destroyed.

1.  **Send Read Acknowledge**

To indicate that an alert has been presented to the user (via notification or otherwise), use the `sendReadAcknowledge()` method:

```kotlin
RainbowSdk().alerts().sendReadAcknowledge(alertTemplate)
// This should be called when the alert has been presented to the user.
```

2.  **Send Received Acknowledge**

To acknowledge that an alert has been received, use the `sendReceivedAcknowledge()` method:

```kotlin
RainbowSdk().alerts().sendReceivedAcknowledge(alertTemplate)
// This should be called as soon as the alert is received.
```

3.  **Send Alert Feedback**

To send feedback regarding an alert, use the `sendAlertFeedback()` method:

```kotlin
RainbowSdk().alerts().sendAlertFeedback(
    deviceId = "device-id",
    alertId = "alert-id",
    answerId = "answer-id",
    listener = object : RainbowListener<Unit, Unit> {
        override fun onSuccess(data: Unit) {
            // Handle successful feedback submission
        }

        override fun onError(error: RainbowError<Unit>) {
            // Handle the error if feedback submission fails
        }
    }
)
```

### Registering for Alert Notifications

---

To receive alert notifications, you need to register a change listener. This listener will notify your application whenever an alert notification is received.

Here's how to register an alert notification listener:

```kotlin
val alertsListener = object : IAlertNotificationListener {
    override fun onAlertNotificationReceived(alertTemplate: AlertTemplate) {
        // Handle the received alert notification
    }
}

// Register the listener
RainbowSdk().alerts().registerChangeListener(alertsListener)

// Unregister the listener when no longer needed
RainbowSdk().alerts().unregisterChangeListener(alertsListener)
```

### Conclusion

---

The `Alerts` module is crucial for managing devices that receive alerts based on the Common Alerting Protocol (CAP). By integrating this module into your application, you can ensure that users are promptly informed about critical alerts and can manage their devices efficiently.

Now that you understand how to manage alerts and devices, start improving your alert handling capabilities today!

Happy coding!

Last updated October, 2024

### On this page

-   [Managing Alerts and Devices](/docs/sdk/android#name-managing-alerts-and-devices-0)
-   [Preamble](/docs/sdk/android#name-preamble-37)
-   [Fetch devices](/docs/sdk/android#name-fetch-devices-64)
-   [Create an AlertDevice](/docs/sdk/android#name-create-an-alertdevice-75)
-   [Update an AlertDevice](/docs/sdk/android#name-update-an-alertdevice-86)
-   [Delete an AlertDevice](/docs/sdk/android#name-delete-an-alertdevice-97)
-   [Sending Acknowledgements](/docs/sdk/android#name-sending-acknowledgements-108)
-   [Registering for Alert Notifications](/docs/sdk/android#name-registering-for-alert-notifications-148)
-   [Conclusion](/docs/sdk/android#name-conclusion-159)

---

Was this content helpful to you?YesNo

Feedback