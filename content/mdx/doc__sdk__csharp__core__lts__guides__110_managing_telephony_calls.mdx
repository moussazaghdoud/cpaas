---
title: "CPaaS SDK for business communication solutions | Rainbow"
description: "Add chat, conference, real time collaboration and communication (PBX, VoIP, P2P) capabilities, bots and more to your business applications."
type: "sdk"
source: "/docs/sdk/csharp/core/lts/guides/110_managing_telephony_calls"
lastSynced: "2026-02-20T07:47:22.140Z"
---
# Documentation

Managing hybrid telephony

LTS release 3.XPublished on 2025-03-17

## Managing hybrid telephony

This guide explains how to manage hybrid telephony using [HybridTelephony service](/docs/sdk/csharp). You need an account associated to a **PBX System** - like OXO or OXE.

If you have an account associated to a **cloud PBX** please refer to the guide [Managing hub telephony](/docs/sdk/csharp)

Using [HybridTelephony service](/docs/sdk/csharp) you can make call, hang up and hold/unhold call. You can also transfer the call and create a conference using 2 calls already in progress. You call also manage your nomadic status and your call forward status.

A specific example about Hybrid Telephony is available [here](https://github.com/Rainbow-CPaaS/Rainbow-CSharp-SDK-Samples/blob/master/SDK%20V3.X/TerminalApp/TerminalAppHybridTelephony/README.md)

### Get telephony status, PBX Agent info and the device type used (Virtual terminal or not)

---

First you must know if the hybrid telephony service is available (so if you have the permission to use this feature). You must use the `GetHybridTelephonyStatus()`.

If you have the permission you can know the PBX Agent version used using `GetHybridPBXAgentInformation()` and if your are using a Virtual terminal or not using `IsVirtualTerminal()`.

Event `HybridTelephonyStatusUpdated` is also triggered when the status of the hybrid telephony service is updated.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

// Do we have the right to use the telephony feature ?
if( telephony.GetHybridTelephonyStatus() )
{
  // Get  PBX Agent information
  PbxAgentInfo pbxAgentInfo =  telephony.GetHybridPBXAgentInformation();
  
  // Do we use a virtaul terminal or not ?
  Boolean isVirtualTerminal =  telephony.IsVirtualTerminal();
}
```

### Check call features : Deflect, Transfer , Conference

---

To know if you can deflect and/or transfer calls, you must use `DeflectCallAvailable()` and `TransferCallAvailable()`.

To know if you can create a conference from 2 active calls, you must use `ConferenceCallAvailable()`.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

Boolean deflectCallAvailable = telephony.DeflectCallAvailable();
Boolean transferCallAvailable = telephony.TransferCallAvailable();
Boolean conferenceCallAvailable = telephony.ConferenceCallAvailable();
```

### Check voice mail feature and get its number

---

To know if you have a voice mail, you must use `VoiceMailAvailable()`.

To know the voice mail number, you must use `GetVoiceMailPhoneNumber()`.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

Boolean voiceMailAvailable = telephony.VoiceMailAvailable();
String  voiceMailNumber = telephony.GetVoiceMailPhoneNumber(); // Return NULL is voice mail is not available
```

### Make a call

---

You can make a call using `MakeCallAsync()` or `MakeCallToMevoAsync()`.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

String phoneNumber = "156";               // An internal number to reach an person in your enterprise
// OR 
// String phoneNumber = "+33612345678";   // A canonical phone number

var sdkResult =  await telephony.MakeCallAsync(phoneNumber);
if(sdkResult.Success)
{
  // The call has started from the server
  String callId = callback.Id; // Id ot the call 
}
else
{
  // A pb occurs ....
}
```

### Answer, Release, Transfer, Hold, Retrieve call

---

With **Call** object, you can easily manage it using `AnswerCallAsync()`, `ReleaseCallAsync()`, `HoldCallAsync()`, `RetrieveCallAsync()`, `DeflectCallAsync()`

Once a call is hold use `RetrieveCallAsync()` to unhold it.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

Call currentCall; // A call previously set

var sdkResult = await telephony.AnswerCallAsync(currentCalld);
if(sdkResult.Success)
{
  // The call has been well answered  
}
else
{
  // A pb occurs ....
}
...

var sdkResult = await telephony.ReleaseCallAsync(currentCall);
if(sdkResult.Success)
{
    // The call has been well released  
}
else
{
  // A pb occurs ....
}

...

var sdkResult = await telephony.HoldCallAsync(currentCall);
if(sdkResult.Success)
{
    // The call has been hold  
}
else
{
  // A pb occurs ....
}

...

var sdkResult = await telephony.RetrieveCallAsync(currentCall);
if(sdkResult.Success)
{
    // The call is no more hold  
}
else
{
  // A pb occurs ....
}

...

String phoneNumber = "456"; // An internal or a canonical phone number 

var sdkResult = await telephony.DeflectCallAsync(currentCall, phoneNumber);
{
    // The call has been well deflect  
}
else
{
  // A pb occurs ....
}
```

### Tranfer call and conference

---

To perform a transfer or create conference, two calls in progress are necessary. One is necessary hold and the other one is active.

Then using the two calls, you can use `TransferCallAsync()` or `ConferenceCallAsync()`.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

Call activeCall;  // A call previously set as an active call
Call heldCall;    // A call previously set as an hold call

var sdkResult = await telephony.TransferCallAsync(activeCall, heldCall);
if(sdkResult.Success)
{
    // The active call has been transfered to the held call - your are no more in a call
}
else
{
  // A pb occurs ....
}

...

Call activeCall;  // A call previously set as an active call
Call heldCall;    // A call previously set as an hold call

var sdkResult = await telephony.ConferenceCallAsync(activeCall, heldCall);
if(sdkResult.Success)
{
    // You are now in a conference call with 3 users.  
}
else
{
  // A pb occurs ....
}
```

### Manage call forward

---

You can manage call forward to the voice mail using `ActivateHybridCallForwardOnVoiceMailAsync()` or to a phone number using `ActivateHybridCallForwardOnPhoneNumberAsync()`.

You can deactive call forward using `DeactivateHybridCallForwardAsync()`.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

var sdkResult = await telephony.ActivateHybridCallForwardOnVoiceMailAsync();
if(sdkResult.Success)
{
    // Now incoming call are directly forwarded to the voice mail
}
else
{
  // A pb occurs ....
}

...

String phoneNumber = "123";  // An internal or a canonical phone number
String callForwardType = Rainbow.Consts.CallForwardType.Immediate; 

var sdkResult = await telephony.ActivateHybridCallForwardOnPhoneNumberAsync(phoneNumber, callForwardType);
if(sdkResult.Success)
{
    // Now incoming call are directly forwarded to the specified phone number  
}
else
{
  // A pb occurs ....
}


...

var sdkResult = await telephony.DeactivateHybridCallForwardAsync();
if(sdkResult.Success)
{
    // There is no more call forward   
}
else
{
  // A pb occurs ....
}
```

### Manage nomadic status

---

Set a device as nomadic means that your main device is no more your office phone but the device specified in your nomadic status.

To set you nomadic status, you must use `ActivateHybridNomadicStatusToPhoneNumberAsync()`.

You can also set your **Rainbow WebRTC device** as nomadic status (using `ActivateHybridNomadicStatusToComputerAsync()`) if you have the permission (using `HybridNomadicOnComputerAvailable`).

To be more precise a **Rainbow WebRTC device** is

-   any Rainbow UCaaS application
-   a SDK using WebRTC features AND which can manage Hybrid Telephony in WebRTC context

To cancel the nomadic status use `DeactivateHybridNomadicStatusAsync()`.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

String phoneNumber = "+33612345678";  // An internal or a canonical phone number (it's more often a mobile device used)

var sdkResult = await telephony.ActivateHybridNomadicStatusToPhoneNumberAsync(phoneNumber);
if(sdkResult.Success)
{
    // Now your 'main device' if the device with the specified phone number 
}
else
{
  // A pb occurs ....
}

...

var sdkResult = await telephony.DeactivateHybridNomadicStatusAsync();
if(sdkResult.Success)
{
    // Now your main device is you office phone  
}
else
{
  // A pb occurs ....
}
```

### Manage voice message

---

You can know the list of voice messages in your voice mail using `GetVoiceMessagesListAsync()`. Then you can have some information like the date of the call, its duration, the caller.

You can delete a voice message using `DeleteVoiceMessageAsync()`.

```csharp
Rainbow.Application myApp = new Rainbow.Application();
Rainbow.HybridTelephony telephony = myApp.GetHybridTelephony();
...
//Once connected

var sdkResult = await telephony.GetVoiceMessagesListAsync();
{
    // Get list of voice message
    List<VoiceMessage> voiceMessagesList = sdkResult.Data;
    foreach(VoiceMessage voiceMessage in voiceMessagesList)
    {
      String id = voiceMessage.id;              // Id of the voice message
      Peer peer = voiceMessage.Peer;            // Peer as the caller who let this voice message - if it's a knoww contact Id/Jid are available, if not phoneNumber is available
      Boolean unread = voiceMessage.Unread;     // To know if the messsage has been already "read"
      DateTime date = voiceMessage.Date;        // Date of the call
      Int32 duration = voiceMessage.Duration;   // Duration of the call (in seconds)
    } 
}
else
{
  // A pb occurs ....
}

...

VoiceMessage voiceMessage; // An voice message already set

var sdkResult = await telephony.DeleteVoiceMessageAsync(voiceMessage);
if(sdkResult.Success)
{
    // The voice message has been deleted  
}
else
{
  // A pb occurs ....
}
```

### Examples

---

A specific example about Hybrid Telephony is available [here](https://github.com/Rainbow-CPaaS/Rainbow-CSharp-SDK-Samples/blob/master/SDK%20V3.X/TerminalApp/TerminalAppHybridTelephony/README.md)

You can take a look to several examples available [here](https://github.com/Rainbow-CPaaS/Rainbow-CSharp-SDK-Samples/tree/master/SDK%20V3.X/README.md)

### On this page

-   [Managing hybrid telephony](/docs/sdk/csharp#name-managing-hybrid-telephony-0)
-   [Get telephony status, PBX Agent info and the device type used (Virtual terminal or not)](/docs/sdk/csharp#name-get-telephony-status-pbx-agent-info-and-the-device-type-used-virtual-terminal-or-not-15)
-   [Check call features : Deflect, Transfer , Conference](/docs/sdk/csharp#name-check-call-features-:-deflect-transfer--conference-29)
-   [Check voice mail feature and get its number](/docs/sdk/csharp#name-check-voice-mail-feature-and-get-its-number-40)
-   [Make a call](/docs/sdk/csharp#name-make-a-call-51)
-   [Answer, Release, Transfer, Hold, Retrieve call](/docs/sdk/csharp#name-answer-release-transfer-hold-retrieve-call-59)
-   [Tranfer call and conference](/docs/sdk/csharp#name-tranfer-call-and-conference-70)
-   [Manage call forward](/docs/sdk/csharp#name-manage-call-forward-81)
-   [Manage nomadic status](/docs/sdk/csharp#name-manage-nomadic-status-92)
-   [Manage voice message](/docs/sdk/csharp#name-manage-voice-message-124)
-   [Examples](/docs/sdk/csharp#name-examples-135)

---

Was this content helpful to you?YesNo

Feedback